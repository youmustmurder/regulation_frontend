# Правила и требования

## Навигация

* [Доступность](#доступность)
  * [Семантика](#семантика)
  * [Адаптивность](#адаптивность)
  * [Aria-атрибуты](#aria-атрибуты)
  * [Формы](#формы)
  * [Навигация](#навигация)
  * [SVG](#svg)
  * [Ссылки](#ссылки)
  * [Footer](#footer)
* [Стиль кода](#стиль-кода)
  * [HTML](#html)
    * [Подключение стилей](#подключение-стилей)
    * [Подключение скриптов](#подключение-скриптов)
    * [Логические атрибуты](#логические-атрибуты)
  * [CSS](#css)
* [Git & commits](#git--commits)
  * [Commits](#commits)
  * [Команды git](#команды-git)
* [Полезные сервисы](#полезные-сервисы)
  * [Изображения и SVG](#изображения-и-svg)

## Доступность
Почитать [подробнее](https://weblind.ru/) 

### Семантика

Используйте теги HTML5:
* `<header>` для шапки сайта. Поместите вводные элементы сайта, которые есть на каждой странице — логотип, навигация, заголовок страницы, поиск;
* `<nav>` для навигации по сайту;
* `<section>` для разделения страницы на смысловые части;
* `<aside>` для боковой колонки со списком статей, рекламы, архивных записей;
* `<footer>` для нижнего блока страницы с информацией об авторе статьи, данные о копирайте и т. д.
* `<figure>` для группировки элементов, например, картинку и текст;
* `<main>` для основного содержимого страницы.

### Адаптивность

Используйте адаптивную верстку и относительные единицы размера шрифта, чтобы дать пользователю возможность увеличивать масштаб страницы не менее чем в два раза.

Относительный единицы измерения размеров шрифтов:
* rem — размер шрифта рассчитывается относительно значения, прописанного для `<html>`;
* em и % — размер шрифта рассчитывается относительно значения, прописанного для ближайшего родителя текущего элемента.

### Aria-атрибуты
* aria-hidden="true" - для декоративных изображений
* aria-label - название элемента
* aria-labelby - id на связанное название элемента
* aria-describedby - id на связанное альтернатиное описание
* aria-required="true" - обязательное поле

### Формы
Для input всегда label с for. Если лейбл нужно скрыть, расположите его перед полем, используйте привязку атрибута for и специальный класс для вспомогательных технологий:
```css
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  clip: rect(0 0 0 0);
  overflow: hidden;
}
```
Для input без связанного label - на input свойство aria-label с описанием поля.
Группировка полей - fieldset и legend. Еще один способ группировки полей формы — использование атрибутов role="group" и aria-labelledby, куда нужно прописать id элемента, котором содержится описание группы полей.

Для ошибок role="alert" указывайте на содержащие ошибки поля при помощи атрибута aria-invalid.
Для вывода ошибок, когда поле проверяется во время ввода, добавьте после поля область с атрибутом aria-live="polite". Если поле проверяется после потери фокуса, добавьте после поля атрибут aria-live="assertive". Программно добавляйте ошибку в этот элемент. Отличие подходов в том, что aria-live="assertive" прерывает все текущие задачи скриридера. Если применить его для проверки поля во время ввода, после каждого изменения скринридер будет перескакивать на этот элемент и читать его несколько раз.

### Навигация
Добавьте заголовок меню в атрибут aria-label или aria-labelledby, чтобы пользователь понял назначение меню. Если есть выпадающее меню, добавьте к родительскому пункту атрибут aria-haspopup="true".

Навигацию заворачиваем тегом nav и озаглавливаем с помощью атрибута aria-label. Пользователи, использующие экранные читалки, смогут быстро попадать в раздел меню с помощью горячих клавиш и, прослушав содержимое атрибута aria-label, понять его назначение. Если на странице больше одного меню, пользователь сможет легко их различать.

Списки меню имеют роль role=”menu”. Подробнее о ролях элементов сайта можно ознакомиться [тут](https://www.w3.org/TR/wai-aria/#menu). Не используйте для меню сайта роль menubar, так как эта роль предназначена для меню web приложений, имеющего назначение схожее с привычными десктопными программами, например, панель инструментов.

Элементы меню имеют атрибут role=”menuitem”. Атрибут расставляется непосредственно для элементов, с которыми пользователь взаимодействует.

Ели порядок пунктов меню важен, то используйте тег OL, если не важен, то UL

Пункт с выпадающим меню получил атрибуты:
aria-haspopup=”true” - Указывает экранным чтецам, что на странице присутствует скрытый контент, отображение которого переключается элементом с этим атрибутом
aria-expanded=”false” - Указывает экранным чтецам, раскрыт или скрыт выпадающий контент
aria-controls=”” - идентификатор контролируемого блока
Подменю обзавелось атрибутом id для связывания с контролирующим пунктом меню.

Атрибут aria-current=”page” у ссылки подсказывает экранным чтецам, что ссылка ведет на текущую страницу, что дополнительно озвучивается пользователю для предотвращения лишнего перехода.

### SVG
На svg лучше вешать атрибут aria-hidden="true".

### Ссылки
На ссылки лучше вешать также атрибут title.
На ссылки социальных сетей вешать rel="noopener".

### Footer
role="navigation" - для списка с навигацией на один блок обертку

## Стиль кода

### HTML

#### Подключение стилей

Стилевые файлы с помощью link подключаются внутри head. При этом атрибут type для тега link не указывается, так как его значение text/css устанавливается по умолчанию.

#### Подключение скриптов

Скрипты должны подключаться в самом низу страницы, чтобы при её загрузке не блокировать отображение содержимого.

При подключении скриптов в теге script атрибут type не указывается, так как его значение text/javascript устанавливается по умолчанию.

#### Порядок атрибутов

Атрибут класса у HTML-элементов пишется первым. Единообразное написание помогает легче считывать код и быстрее разбираться в назначении блоков по их классам.

Остальные атрибуты могут быть расставлены в любом порядке, но тоже единообразно для одинаковых элементов.

#### Логические атрибуты

Для логических атрибутов (например, checked, disabled, required) значение не указывается, а сами атрибуты указываются последними и в единообразной последовательности во всём документе.

### CSS

Объявления логически связанных свойств группируются в следующем порядке:

- Позиционирование
- Блочная модель
- Типографика
- Оформление
- Анимация
- Разное

Позиционирование следует первым потому, что оно влияет на положение блоков в потоке документа. Блочная модель идёт следующей, так как она определяет размеры и расположение блоков.

Все остальные объявления, которые изменяют вид внутренних частей блоков и не оказывают влияния на другие блоки, идут в последнюю очередь.

Сгруппированные объявления в правиле отделяются друг от друга пустой строкой.

Порядок объявления подробных правил, таких как font-size, font-family, line-height, должен соответствовать порядку в сокращённой версии правила. В случае совместного использования подробных и сокращённых правил, первой должна идти сокращённая версия.

## Git & commits

### Commits

Сообщения коммитов должны иметь следующую структуру:
```
<type>[optional область]: <краткое описание>

[optional тело]

[optional подвал]
```

| Тип      | Описание |
|----------|----------|
| build    | Сборка проекта или изменения внешних зависимостей |
| ci       | Найстройка CI и работа со скриптами |
| docs     | Обновление документации |
| feat     | Добавление нового функционала |
| fix      | Исправление ошибок |
| perf     | Изменения направленные на улучшение производительности |
| refactor | Правки кода без исправления ошибок или добавления новых функций |
| revert   | Откат на предыдущие коммиты |
| style    | Правки по кодстайлу |
| test     | Добавление тестов |

### Команды для git

#### Добавление файла/папки в ignore:
```
git reset HEAD
```

```
git update-index --asume-unchanged file.txt
```

## Полезные сервисы

### Изображения и SVG

[squoosh](https://squoosh.app/) - Сжатие изображений

[svgomg](https://jakearchibald.github.io/svgomg/) - Сжатия svg файлов